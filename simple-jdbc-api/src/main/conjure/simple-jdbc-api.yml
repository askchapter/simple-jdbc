types:
  definitions:
    default-package: org.simplejdbc.api
    objects:
      CreateConnectionRequest:
        fields:
          jdbcUrl: string

      Connection:
        fields:
          id: uuid

      QueryRequest:
        fields:
          connectionId: uuid
          query: string

      QueryResponse:
        fields:
          rows: list<map<string, any>>

services:
  SimpleJdbcService:
    name: Simple JDBC
    package: org.simplejdbc.api
    base-path: /
    endpoints:
      createConnection:
        http: POST /connection
        args:
          createConnectionRequest: CreateConnectionRequest
        returns: Connection

      query:
        http: POST /query
        args:
          queryRequest: QueryRequest
        returns: QueryResponse